---
const { title = "MountZoom Live" } = Astro.props;
---

<section class="w-full">
  <header class="mb-3 flex flex-wrap items-center justify-between gap-3">
    <h1 class="font-ringbearer text-lg font-semibold tracking-wide text-amber-200 sm:text-xl">
      {title}
    </h1>
    <span
      id="status-pill"
      class="inline-flex items-center gap-2 rounded-full bg-slate-900/70 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-amber-300 ring-1 ring-amber-300/30"
    >
      <span
        id="status-dot"
        class="h-2 w-2 rounded-full bg-emerald-400 shadow-[0_0_8px_rgba(16,185,129,0.8)]"
      ></span>
      <span id="status-text">Online</span>
    </span>
  </header>

  <div class="mb-4 rounded-2xl bg-slate-950/60 p-4 ring-1 ring-white/5">
    <div class="mb-3 text-xs uppercase tracking-[0.2em] text-slate-400">
      Weather
    </div>
    <div class="grid gap-3 text-sm text-slate-200 sm:grid-cols-2">
      <div>
        <div class="text-xs uppercase tracking-[0.2em] text-slate-400">
          Location
        </div>
        <div id="weather-location" class="font-medium">--</div>
      </div>
      <div>
        <div class="text-xs uppercase tracking-[0.2em] text-slate-400">
          Conditions
        </div>
        <div class="flex flex-wrap items-center gap-2">
          <div id="weather-temp" class="font-medium">--</div>
          <div id="weather-desc" class="text-slate-300">--</div>
          <div id="weather-alt" class="text-slate-400"></div>
        </div>
      </div>
    </div>
  </div>

  <div
    id="last-sighting-pill"
    class="mb-4 inline-flex flex-wrap items-center gap-2 rounded-full bg-amber-200/10 px-4 py-2 text-sm font-semibold text-amber-200 ring-1 ring-amber-200/40"
  >
    Last known sighting: <span id="location-label">Loading</span>,
    <span id="age-minutes">--</span> mins ago
  </div>

  <div
    id="media-container"
    class="relative overflow-hidden rounded-2xl bg-slate-900/70 shadow-[0_18px_50px_rgba(0,0,0,0.45)] ring-1 ring-white/5"
  >
    <div class="aspect-[4/3] w-full sm:aspect-video">
      <img
        id="stream-image"
        class="h-full w-full object-cover"
        alt="MountZoom live stream"
        loading="eager"
      />
      <img
        id="fallback-image"
        class="hidden h-full w-full object-cover"
        alt="Last seen still"
        loading="lazy"
      />
    </div>
    <div
      id="offline-banner"
      class="pointer-events-none absolute inset-x-4 bottom-4 hidden rounded-xl bg-slate-950/80 px-4 py-3 text-sm text-slate-200 ring-1 ring-amber-200/20"
    >
      Stream offline. Showing last known image.
    </div>
  </div>
</section>
