---
const { title = "MountZoom Live" } = Astro.props;
---

<section class="w-full">
  <header class="mb-3 flex flex-wrap items-center justify-between gap-3">
    <h1 class="font-ringbearer text-lg font-semibold tracking-wide text-amber-200 sm:text-xl">
      {title}
    </h1>
    <span
      id="status-pill"
      class="inline-flex items-center gap-2 rounded-full bg-slate-900/70 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-amber-300 ring-1 ring-amber-300/30"
    >
      <span
        id="status-dot"
        class="h-2 w-2 rounded-full bg-emerald-400 shadow-[0_0_8px_rgba(16,185,129,0.8)]"
      ></span>
      <span id="status-text">Online</span>
    </span>
  </header>

  <div class="mb-4 rounded-2xl bg-slate-950/60 p-4 ring-1 ring-white/5">
    <div class="flex items-center gap-4">
      <div id="weather-temp" class="text-4xl font-semibold text-amber-200">
        --
      </div>
      <div class="text-sm text-slate-200">
        <div id="weather-location" class="font-medium">--</div>
        <div id="weather-desc" class="text-slate-300">--</div>
        <div class="mt-1 flex items-center justify-between gap-3 text-slate-400">
          <div id="weather-feels"></div>
          <div id="weather-alt"></div>
        </div>
      </div>
    </div>
  </div>

  <div
    id="media-container"
    class="relative overflow-hidden rounded-2xl bg-slate-900/70 shadow-[0_18px_50px_rgba(0,0,0,0.45)] ring-1 ring-white/5"
  >
    <div class="aspect-[4/3] w-full sm:aspect-video">
      <img
        id="stream-image"
        class="h-full w-full object-cover"
        alt="MountZoom live stream"
        loading="eager"
      />
      <img
        id="fallback-image"
        class="hidden h-full w-full object-cover"
        alt="Last seen still"
        loading="lazy"
      />
    </div>
    <button
      id="media-fullscreen-btn"
      class="absolute right-3 top-3 inline-flex h-9 w-9 items-center justify-center rounded-full bg-slate-950/70 text-amber-200 ring-1 ring-amber-200/40 transition hover:bg-slate-950/90"
      type="button"
      aria-label="Toggle fullscreen"
    >
      <svg
        viewBox="0 0 24 24"
        class="h-4 w-4"
        fill="none"
        stroke="currentColor"
        stroke-width="2"
        stroke-linecap="round"
        stroke-linejoin="round"
        aria-hidden="true"
      >
        <path d="M8 3H5a2 2 0 0 0-2 2v3" />
        <path d="M21 8V5a2 2 0 0 0-2-2h-3" />
        <path d="M3 16v3a2 2 0 0 0 2 2h3" />
        <path d="M16 21h3a2 2 0 0 0 2-2v-3" />
      </svg>
    </button>
    <div
      id="offline-banner"
      class="pointer-events-none absolute inset-x-4 bottom-4 hidden rounded-xl bg-slate-950/80 px-4 py-3 text-sm text-slate-200 ring-1 ring-amber-200/20"
    >
      Stream offline. Showing last known image.
    </div>
  </div>
</section>
